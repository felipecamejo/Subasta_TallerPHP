<form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-container">
  <div class="field">
    <label for="nombre">Nombre</label>
    <input id="nombre" type="text" formControlName="nombre" class="form-control" />
  </div>

  <div class="field">
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email" class="form-control" />
  </div>

  <div class="field">
    <label for="telefono">Teléfono</label>
    <input id="telefono" type="text" formControlName="telefono" class="form-control" />
  </div>

  <div *ngIf="!esCasaRemate" class="field">
    <label for="cedula">Cédula</label>
    <input id="cedula" type="text" formControlName="cedula" class="form-control" />
  </div>

  <div class="field">
    <label for="contrasenia">Contraseña</label>
    <input id="contrasenia" type="password" formControlName="contrasenia" class="form-control" />
  </div>

  <div class="field">
    <label for="confirmarContrasenia">Confirmar contraseña</label>
    <input id="confirmarContrasenia" type="password" formControlName="confirmarContrasenia" class="form-control" />
  </div>

  <div class="field">
    <label for="tipo">Rol</label>
    <select id="tipo" formControlName="tipo" class="form-control">
      <option value="cliente">Cliente</option>
      <option value="rematador">Rematador</option>
      <option value="casa_remate">Casa de Remate</option>
    </select>
  </div>

  <div *ngIf="esRematador" class="field">
    <label for="matricula">Matrícula</label>
    <input id="matricula" type="text" formControlName="matricula" class="form-control" />
  </div>

  <div *ngIf="esCasaRemate" class="field">
    <label for="idFiscal">ID Fiscal</label>
    <input id="idFiscal" type="text" formControlName="idFiscal" class="form-control" />
  </div>

  <div class="field">
    <label for="imagen">Imagen de perfil (opcional)</label>
    <input id="imagen" type="file" (change)="onFileChange($event)" class="form-control" />
  </div>

  <div class="field">
    <label>Ubicación</label>
    <div id="map" class="map-container"></div>
  </div>

  <div *ngIf="submissionError" class="error-message">
    {{ submissionError }}
  </div>

  <button type="submit" [disabled]="form.invalid || loading" class="submit-button">
    {{ loading ? 'Registrando...' : 'Registrarse' }}
  </button>
</form>
